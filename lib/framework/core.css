/* RESET Y ESTRUCTURA DE SCROLL */
* { margin: 0; padding: 0; box-sizing: border-box; }
html { 
    scroll-behavior: smooth; 
    overflow-x: hidden; 
    scroll-snap-type: y mandatory; 
    height: 100%; 
}
body { font-family: 'Urbanist', sans-serif; line-height: 1.6; height: 100%; }

#bg-canvas { position: fixed; top: 0; left: 0; z-index: -1; }

header {
    position: fixed; top: 0; width: 100%; height: var(--header-h, 80px);
    display: flex; align-items: center; justify-content: space-between;
    padding: 0 5%; backdrop-filter: blur(15px); z-index: 1000;
}

.nav-container { display: flex; align-items: center; gap: 30px; }
.menu-toggle { display: none; font-size: 1.5rem; color: #fff; cursor: pointer; }

/* LÃ“GICA DE SECCIONES */
section {
    min-height: 100vh; width: 100%; padding: 100px 8% 60px;
    display: flex; flex-direction: column; justify-content: center;
    scroll-snap-align: start; scroll-snap-stop: always;
    opacity: 0; transform: translateY(30px);
    transition: all 0.8s cubic-bezier(0.22, 1, 0.36, 1);
}
section.active-slide { opacity: 1; transform: translateY(0); }

/* MODALES (Manteniendo tus nombres) */
.modal {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    z-index: 2000; display: none; align-items: center; justify-content: center;
    padding: 20px; backdrop-filter: blur(12px);
}
.modal-content {
    max-width: 1000px; width: 100%; border-radius: 32px;
    overflow: hidden; position: relative;
}
.modal-close {
    position: absolute; top: 20px; right: 20px; z-index: 10;
    background: rgba(255,255,255,0.1); border: none; color: white;
    width: 40px; height: 40px; border-radius: 50%; cursor: pointer;
}

@media (max-width: 950px) {
    html { scroll-snap-type: none; }
    section { height: auto; min-height: 100vh; padding: 120px 5% 60px; }
    .aliados-section { width: 100%; margin-left: 0; }
    .nav-container {
        position: fixed; top: var(--header-h, 80px); left: -100%;
        width: 100%; height: calc(100vh - var(--header-h, 80px));
        background: var(--bg-dark); flex-direction: column;
        padding: 60px 0; transition: 0.5s;
    }
    .nav-container.active { left: 0; }
    .menu-toggle { display: block; }
    .modal-body { grid-template-columns: 1fr; }
    .contact-grid { grid-template-columns: 1fr; }
    .service-detail-box { grid-template-columns: 1fr; text-align: center; }
    .methodology-container { flex-direction: column; gap: 60px; height: auto; }
    .methodology-line, .methodology-progress { display: none; }
}